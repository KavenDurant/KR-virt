# KR虚拟化管理系统 - 快速测试指南

## 🚀 快速开始

### 1. 启动开发服务器
```bash
npm run dev
```
服务器将在 http://localhost:3001 启动

### 2. 测试账户

#### 简化测试账户（推荐用于快速测试）
- **用户名**: `test`
- **密码**: `123456`
- **特点**: 无需双因子认证，可直接登录
- **权限**: 管理员权限（完整功能访问）

#### 完整功能测试账户
- **用户名**: `admin`
- **密码**: `Admin123!@#`
- **特点**: 需要双因子认证
- **验证码**: `123456`、`666666` 或 `888888`

### 3. 密钥文件

请使用项目中提供的测试密钥文件：
- **文件路径**: `public/test-key.key`
- **用法**: 在登录页面点击"上传密钥文件"按钮选择此文件

### 4. 登录流程

#### 简化流程（test账户）
1. 打开 http://localhost:3001
2. 输入用户名: `test`
3. 输入密码: `123456`
4. 上传密钥文件: `public/test-key.key`
5. 点击"登录" → 直接进入系统

#### 完整流程（admin账户）
1. 打开 http://localhost:3001
2. 输入用户名: `admin`
3. 输入密码: `Admin123!@#`
4. 上传密钥文件: `public/test-key.key`
5. 点击"登录" → 进入双因子认证页面
6. 输入验证码: `123456`
7. 点击"验证" → 进入系统

## 🎯 测试重点

### 1. 基础功能测试
- [ ] 账户密码验证
- [ ] 密钥文件上传和验证
- [ ] 密码强度指示器
- [ ] 错误信息显示

### 2. 认证流程测试
- [ ] 简化登录（test账户）
- [ ] 双因子认证（admin账户）
- [ ] 登录状态保持
- [ ] 路由保护

### 3. 界面测试
- [ ] 响应式设计
- [ ] 动画效果
- [ ] 合规标识显示
- [ ] 错误状态处理

## 🔧 故障排除

### 问题1: 密钥文件上传失败
- **解决方案**: 确保选择 `public/test-key.key` 文件
- **检查**: 文件扩展名必须是 `.key`、`.pem` 或 `.crt`

### 问题2: 双因子认证验证码错误
- **解决方案**: 使用预设验证码 `123456`、`666666` 或 `888888`
- **注意**: 验证码必须为6位数字

### 问题3: 登录后页面空白
- **解决方案**: 检查浏览器控制台错误信息
- **检查**: 确保路由配置正确

### 问题4: 无法访问受保护页面
- **解决方案**: 确保登录状态正常
- **检查**: localStorage中是否存在 `kr_virt_token` 和 `kr_virt_user`

## 📋 功能清单

### ✅ 已完成功能
- [x] 用户认证系统
- [x] 密钥文件验证
- [x] 双因子认证
- [x] 密码强度检查
- [x] 路由保护
- [x] 会话管理
- [x] 响应式设计
- [x] 错误处理

### 🔄 测试中功能
- [ ] 完整登录流程
- [ ] 文件上传功能
- [ ] 界面交互
- [ ] 安全合规性

## 🎨 设计特性

- **现代化UI**: 渐变背景、流畅动画
- **安全合规**: 信创、国保三级标识
- **用户友好**: 清晰的错误提示和状态反馈
- **响应式**: 支持各种屏幕尺寸

## 📞 支持

如遇到问题，请检查：
1. 浏览器开发者工具控制台
2. 网络请求状态
3. 本地存储状态
4. 文件路径正确性

---

**提示**: 建议先使用 `test/123456` 账户进行快速功能验证，然后使用 `admin/Admin123!@#` 测试完整的双因子认证流程。
