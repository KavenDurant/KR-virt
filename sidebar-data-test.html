<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ä¾§è¾¹æ æ•°æ®æµ‹è¯•</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f5f5f5;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
      }
      .section {
        background: white;
        margin: 20px 0;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      .data-tree {
        font-family: "Courier New", monospace;
        background: #f8f9fa;
        padding: 15px;
        border-radius: 4px;
        overflow-x: auto;
      }
      .cluster {
        color: #1890ff;
        font-weight: bold;
      }
      .node {
        color: #52c41a;
        margin-left: 20px;
      }
      .vm {
        color: #722ed1;
        margin-left: 40px;
      }
      .status {
        font-size: 12px;
        padding: 2px 6px;
        border-radius: 3px;
        margin-left: 8px;
      }
      .status.running {
        background: #f6ffed;
        color: #52c41a;
      }
      .status.stopped {
        background: #fff2f0;
        color: #ff4d4f;
      }
      .status.online {
        background: #f6ffed;
        color: #52c41a;
      }
      .status.offline {
        background: #fff2f0;
        color: #ff4d4f;
      }
      .status.healthy {
        background: #f6ffed;
        color: #52c41a;
      }
      .status.warning {
        background: #fffbe6;
        color: #faad14;
      }
      h1 {
        color: #1890ff;
      }
      h2 {
        color: #722ed1;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ”„ ä¾§è¾¹æ æ•°æ®ç»“æ„æµ‹è¯•</h1>

      <div class="section">
        <h2>ğŸ“Š é›†ç¾¤é¡µé¢ä¾§è¾¹æ æ•°æ® (mockClusterDataCenter)</h2>
        <p>
          <strong>ç”¨é€”ï¼š</strong>é›†ç¾¤ç®¡ç†é¡µé¢ï¼Œé‡ç‚¹å±•ç¤ºé›†ç¾¤çŠ¶æ€å’Œç‰©ç†ä¸»æœºç®¡ç†
        </p>
        <div class="data-tree" id="cluster-data"></div>
      </div>

      <div class="section">
        <h2>ğŸ–¥ï¸ è™šæ‹Ÿæœºé¡µé¢ä¾§è¾¹æ æ•°æ® (mockVMDataCenter)</h2>
        <p>
          <strong>ç”¨é€”ï¼š</strong>è™šæ‹Ÿæœºç®¡ç†é¡µé¢ï¼Œé‡ç‚¹å±•ç¤ºè™šæ‹ŸæœºçŠ¶æ€å’Œåº”ç”¨æœåŠ¡
        </p>
        <div class="data-tree" id="vm-data"></div>
      </div>

      <div class="section">
        <h2>ğŸ“ å…³é”®å·®å¼‚è¯´æ˜</h2>
        <ul>
          <li>
            <strong>é›†ç¾¤é¡µé¢æ•°æ®ï¼š</strong
            >ä¾§é‡äºç”Ÿäº§ç¯å¢ƒã€åŸºç¡€è®¾æ–½ç®¡ç†ï¼ŒåŒ…å«æ›´å¤šç³»ç»Ÿçº§æœåŠ¡
          </li>
          <li>
            <strong>è™šæ‹Ÿæœºé¡µé¢æ•°æ®ï¼š</strong
            >ä¾§é‡äºåº”ç”¨æœåŠ¡ã€å¼€å‘ç¯å¢ƒï¼ŒåŒ…å«æ›´å¤šåº”ç”¨çº§æœåŠ¡
          </li>
          <li>
            <strong>å‘½åè§„èŒƒï¼š</strong>é›†ç¾¤é¡µé¢ä½¿ç”¨ prod/test/backup
            å‰ç¼€ï¼Œè™šæ‹Ÿæœºé¡µé¢ä½¿ç”¨ app/dev å‰ç¼€
          </li>
          <li>
            <strong>æœåŠ¡ç±»å‹ï¼š</strong>ä¸åŒçš„è™šæ‹Ÿæœºé…ç½®å’Œç”¨é€”ï¼Œé€‚åº”ä¸åŒç®¡ç†åœºæ™¯
          </li>
        </ul>
      </div>

      <div class="section">
        <h2>ğŸ”§ ä¾§è¾¹æ ç»„ä»¶å°è£…æƒ…å†µ</h2>
        <div style="background: #f8f9fa; padding: 15px; border-radius: 4px">
          <p><strong>âœ… æ˜¯çš„ï¼Œä¾§è¾¹æ å·²ç»å°è£…ï¼š</strong></p>
          <ul>
            <li>
              <strong>ç»„ä»¶ä½ç½®ï¼š</strong>
              <code>src/components/HierarchicalSidebar/index.tsx</code>
            </li>
            <li>
              <strong>æ•°æ®æœåŠ¡ï¼š</strong>
              <code>src/services/mockData.ts</code> ä¸­çš„
              <code>getSidebarData()</code> å‡½æ•°
            </li>
            <li>
              <strong>å¸ƒå±€é›†æˆï¼š</strong>
              <code>src/components/Layout/AppLayout.tsx</code> ä¸­ç»Ÿä¸€è°ƒç”¨
            </li>
            <li>
              <strong>è·¯ç”±æ„ŸçŸ¥ï¼š</strong> æ ¹æ®å½“å‰è·¯å¾„ (<code>/cluster</code> æˆ–
              <code>/virtual-machine</code>) è‡ªåŠ¨åŠ è½½å¯¹åº”æ•°æ®
            </li>
            <li>
              <strong>äº‹ä»¶ç³»ç»Ÿï¼š</strong> ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶
              <code>hierarchical-sidebar-select</code> è¿›è¡Œé€šä¿¡
            </li>
          </ul>
          <p><strong>ğŸ¯ è®¾è®¡ä¼˜åŠ¿ï¼š</strong></p>
          <ul>
            <li>é«˜åº¦å¤ç”¨ï¼šåŒä¸€ä¸ªä¾§è¾¹æ ç»„ä»¶é€‚ç”¨äºä¸åŒé¡µé¢</li>
            <li>æ•°æ®éš”ç¦»ï¼šä¸åŒæ¨¡å—ä½¿ç”¨ä¸“å±çš„æ•°æ®ç»“æ„</li>
            <li>æ¾è€¦åˆï¼šé€šè¿‡äº‹ä»¶ç³»ç»Ÿè¿›è¡Œé¡µé¢é—´é€šä¿¡</li>
            <li>
              æ˜“æ‰©å±•ï¼šæ–°å¢æ¨¡å—åªéœ€åœ¨
              <code>getSidebarData()</code> ä¸­æ·»åŠ æ–°çš„æ•°æ®å³å¯
            </li>
          </ul>
        </div>
      </div>
    </div>

    <script>
      // æ¨¡æ‹Ÿé›†ç¾¤é¡µé¢æ•°æ®
      const clusterData = {
        name: "Cluster-DataCenter",
        clusters: [
          {
            name: "ç”Ÿäº§ç¯å¢ƒé›†ç¾¤",
            status: "healthy",
            nodes: [
              {
                name: "prod-host-01",
                status: "online",
                vms: [
                  { name: "web-frontend-01", status: "running", vmid: 1001 },
                  { name: "api-backend-01", status: "running", vmid: 1002 },
                  { name: "database-master", status: "running", vmid: 1003 },
                ],
              },
              {
                name: "prod-host-02",
                status: "online",
                vms: [
                  { name: "web-frontend-02", status: "running", vmid: 1004 },
                  { name: "redis-cluster-01", status: "running", vmid: 1005 },
                  { name: "monitoring-stack", status: "running", vmid: 1006 },
                ],
              },
            ],
          },
          {
            name: "æµ‹è¯•ç¯å¢ƒé›†ç¾¤",
            status: "healthy",
            nodes: [
              {
                name: "test-host-01",
                status: "online",
                vms: [
                  { name: "test-web-server", status: "running", vmid: 2001 },
                  { name: "test-database", status: "stopped", vmid: 2002 },
                ],
              },
            ],
          },
          {
            name: "å¤‡ä»½é›†ç¾¤",
            status: "warning",
            nodes: [
              {
                name: "backup-host-01",
                status: "offline",
                vms: [{ name: "backup-storage", status: "error", vmid: 3001 }],
              },
            ],
          },
        ],
      };

      // æ¨¡æ‹Ÿè™šæ‹Ÿæœºé¡µé¢æ•°æ®
      const vmData = {
        name: "VM-DataCenter",
        clusters: [
          {
            name: "è™šæ‹Ÿæœºé›†ç¾¤-01",
            status: "healthy",
            nodes: [
              {
                name: "vm-host-01",
                status: "online",
                vms: [
                  {
                    name: "application-server-01",
                    status: "running",
                    vmid: 101,
                  },
                  { name: "mysql-database-01", status: "running", vmid: 102 },
                  { name: "file-storage-01", status: "running", vmid: 103 },
                  { name: "redis-cache-server", status: "stopped", vmid: 104 },
                ],
              },
              {
                name: "vm-host-02",
                status: "online",
                vms: [
                  {
                    name: "application-server-02",
                    status: "running",
                    vmid: 201,
                  },
                  { name: "nginx-proxy-01", status: "running", vmid: 202 },
                  { name: "log-collector-01", status: "suspended", vmid: 203 },
                ],
              },
            ],
          },
          {
            name: "è™šæ‹Ÿæœºé›†ç¾¤-02",
            status: "healthy",
            nodes: [
              {
                name: "vm-host-03",
                status: "online",
                vms: [
                  { name: "dev-environment-01", status: "running", vmid: 301 },
                  { name: "jenkins-ci-server", status: "running", vmid: 302 },
                  { name: "gitlab-server", status: "running", vmid: 303 },
                ],
              },
            ],
          },
        ],
      };

      function renderDataTree(data, containerId) {
        const container = document.getElementById(containerId);
        let html = `<div class="cluster">ğŸ“Š ${data.name}</div>\n`;

        data.clusters.forEach((cluster) => {
          html += `<div class="cluster">  ğŸ”— ${cluster.name} <span class="status ${cluster.status}">${cluster.status}</span></div>\n`;

          cluster.nodes.forEach((node) => {
            html += `<div class="node">    ğŸ–²ï¸ ${node.name} <span class="status ${node.status}">${node.status}</span></div>\n`;

            node.vms.forEach((vm) => {
              const icon = vm.vmid < 200 ? "ğŸ–¥ï¸" : "ğŸ“¦";
              html += `<div class="vm">      ${icon} ${vm.name} (${vm.vmid}) <span class="status ${vm.status}">${vm.status}</span></div>\n`;
            });
          });
        });

        container.innerHTML = html;
      }

      // æ¸²æŸ“æ•°æ®æ ‘
      renderDataTree(clusterData, "cluster-data");
      renderDataTree(vmData, "vm-data");
    </script>
  </body>
</html>
